{"ast":null,"code":"import _objectSpread from\"e:/Placement/live-polling-system/live-polling-system/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Users,Plus,BarChart3,Clock,Send,MessageCircle,Trash2,User}from'lucide-react';// Helper functions for localStorage management\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const storageKeys={DATA_STORE:'pollingSystem_dataStore',SESSION_ID:'pollingSystem_sessionId'};const getStoredData=()=>{try{const data=localStorage.getItem(storageKeys.DATA_STORE);return data?JSON.parse(data):null;}catch(error){console.error('Error reading from localStorage:',error);return null;}};const setStoredData=data=>{try{localStorage.setItem(storageKeys.DATA_STORE,JSON.stringify(data));}catch(error){console.error('Error writing to localStorage:',error);}};const LivePollingSystem=()=>{const[userType,setUserType]=useState('');const[studentName,setStudentName]=useState('');const[isNameSet,setIsNameSet]=useState(false);const[currentPoll,setCurrentPoll]=useState(null);const[pollResults,setPollResults]=useState([]);const[timeLeft,setTimeLeft]=useState(0);const[hasAnswered,setHasAnswered]=useState(false);const[showResults,setShowResults]=useState(false);const[connectedStudents,setConnectedStudents]=useState([]);const[pastPolls,setPastPolls]=useState([]);const[showChat,setShowChat]=useState(false);const[chatMessages,setChatMessages]=useState([]);const[newMessage,setNewMessage]=useState('');const[pollTimeLimit,setPollTimeLimit]=useState(60);const[createPollError,setCreatePollError]=useState('');// Use a shared session ID across tabs\nconst[sessionId,setSessionId]=useState(()=>{const storedId=localStorage.getItem(storageKeys.SESSION_ID);if(storedId)return storedId;const newId=Math.random().toString(36).substring(7);localStorage.setItem(storageKeys.SESSION_ID,newId);return newId;});// Teacher form states\nconst[newPollQuestion,setNewPollQuestion]=useState('');const[newPollOptions,setNewPollOptions]=useState(['','','','']);// Initialize data store from localStorage or create a new one\nconst[dataStore,setDataStore]=useState(()=>{const storedData=getStoredData();return storedData||{polls:[],students:[],messages:[],activePoll:null,pollAnswers:[]};});// Effect to sync dataStore with localStorage\nuseEffect(()=>{setStoredData(dataStore);},[dataStore]);// Effect to listen for storage changes (for cross-tab communication)\nuseEffect(()=>{const handleStorageChange=e=>{if(e.key===storageKeys.DATA_STORE&&e.newValue){try{const newData=JSON.parse(e.newValue);setDataStore(newData);}catch(error){console.error('Error parsing storage data:',error);}}};window.addEventListener('storage',handleStorageChange);return()=>window.removeEventListener('storage',handleStorageChange);},[]);// Effect to periodically check for updates (fallback for some browsers)\nuseEffect(()=>{const interval=setInterval(()=>{const storedData=getStoredData();if(storedData){setDataStore(storedData);}},1000);return()=>clearInterval(interval);},[]);// Simulate real-time updates with polling\nuseEffect(()=>{if(userType){updateRealTimeData();}},[userType,sessionId,dataStore]);// Timer for active polls\nuseEffect(()=>{let timer;if(currentPoll&&timeLeft>0&&!showResults){timer=setInterval(()=>{setTimeLeft(prev=>{if(prev<=1){setShowResults(true);return 0;}return prev-1;});},1000);}return()=>clearInterval(timer);},[currentPoll,timeLeft,showResults]);const updateRealTimeData=()=>{// Update from the shared data store\nsetConnectedStudents(dataStore.students||[]);setChatMessages(dataStore.messages||[]);if(dataStore.activePoll){// Check if this is a new poll\nif(!currentPoll||currentPoll.id!==dataStore.activePoll.id){setCurrentPoll(dataStore.activePoll);setTimeLeft(dataStore.activePoll.timeLimit);setHasAnswered(false);setShowResults(false);// Check if current student has already answered this poll\nif(userType==='student'&&studentName){const hasAnswered=dataStore.pollAnswers.some(a=>a.studentName===studentName&&a.pollId===dataStore.activePoll.id);setHasAnswered(hasAnswered);}}// Update poll results\nsetPollResults(dataStore.pollAnswers.filter(a=>a.pollId===dataStore.activePoll.id)||[]);}else{setCurrentPoll(null);}// Check if all students answered or time is up\nif(dataStore.activePoll&&timeLeft<=0){setShowResults(true);}};const handleUserTypeSelection=type=>{setUserType(type);if(type==='teacher'){// Load past polls for teacher\nsetPastPolls([{question:\"What is your favorite programming language?\",responses:15,createdAt:new Date()},{question:\"How difficult was today's lesson?\",responses:12,createdAt:new Date()},{question:\"Which topic should we cover next?\",responses:18,createdAt:new Date()}]);}};const handleStudentNameSubmit=()=>{if(studentName.trim()){// Check if name already exists\nif(dataStore.students.includes(studentName)){alert('Name already taken. Please choose a different name.');return;}setIsNameSet(true);// Add student to the store\nsetDataStore(prev=>_objectSpread(_objectSpread({},prev),{},{students:[...prev.students,studentName]}));}};const handleCreatePoll=()=>{setCreatePollError('');// Validate the poll question\nif(!newPollQuestion.trim()){setCreatePollError('Poll question is required');return;}// Validate at least two options are provided\nconst validOptions=newPollOptions.filter(opt=>opt.trim());if(validOptions.length<2){setCreatePollError('At least two options are required');return;}// Validate time limit\nif(pollTimeLimit<10||pollTimeLimit>300){setCreatePollError('Time limit must be between 10 and 300 seconds');return;}// If validation passes, create the poll\nconst pollData={id:Date.now().toString(),question:newPollQuestion,options:validOptions,timeLimit:pollTimeLimit,createdAt:new Date()};setDataStore(prev=>_objectSpread(_objectSpread({},prev),{},{activePoll:pollData,pollAnswers:prev.pollAnswers.filter(a=>a.pollId!==pollData.id),// Clear previous answers for this poll\npolls:[...prev.polls,pollData]}));setCurrentPoll(pollData);setTimeLeft(pollTimeLimit);setHasAnswered(false);setShowResults(false);setPollResults([]);// Reset form\nsetNewPollQuestion('');setNewPollOptions(['','','','']);setCreatePollError('');};const handleAnswerSubmit=optionIndex=>{if(!hasAnswered&&currentPoll){const answerData={studentName,answer:optionIndex,pollId:currentPoll.id,timestamp:new Date()};setDataStore(prev=>_objectSpread(_objectSpread({},prev),{},{pollAnswers:[...prev.pollAnswers.filter(a=>!(a.studentName===studentName&&a.pollId===currentPoll.id)),answerData]}));setHasAnswered(true);}};const handleRemoveStudent=studentToRemove=>{setDataStore(prev=>_objectSpread(_objectSpread({},prev),{},{students:prev.students.filter(s=>s!==studentToRemove),pollAnswers:prev.pollAnswers.filter(a=>a.studentName!==studentToRemove)}));};const handleSendMessage=()=>{if(newMessage.trim()){const message={id:Date.now(),sender:userType==='teacher'?'Teacher':studentName,message:newMessage,timestamp:new Date().toLocaleTimeString()};setDataStore(prev=>_objectSpread(_objectSpread({},prev),{},{messages:[...prev.messages.slice(-49),message]// Keep last 50 messages\n}));setNewMessage('');}};const formatTime=seconds=>{const mins=Math.floor(seconds/60);const secs=seconds%60;return\"\".concat(mins,\":\").concat(secs.toString().padStart(2,'0'));};const addPollOption=()=>{setNewPollOptions([...newPollOptions,'']);};const removePollOption=index=>{if(newPollOptions.length>2){const updatedOptions=[...newPollOptions];updatedOptions.splice(index,1);setNewPollOptions(updatedOptions);}};const updatePollOption=(index,value)=>{const updatedOptions=[...newPollOptions];updatedOptions[index]=value;setNewPollOptions(updatedOptions);};if(!userType){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"w-16 h-16 text-indigo-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-800 mb-2\",children:\"Live Polling System\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Choose your role to continue\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleUserTypeSelection('teacher'),className:\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-4 px-6 rounded-lg transition duration-200 flex items-center justify-center gap-3\",children:[/*#__PURE__*/_jsx(Users,{className:\"w-5 h-5\"}),\"Continue as Teacher\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleUserTypeSelection('student'),className:\"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-4 px-6 rounded-lg transition duration-200 flex items-center justify-center gap-3\",children:[/*#__PURE__*/_jsx(User,{className:\"w-5 h-5\"}),\"Continue as Student\"]})]})]})});}if(userType==='student'&&!isNameSet){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-100 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(User,{className:\"w-16 h-16 text-emerald-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-2\",children:\"Welcome Student!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Please enter your name to join\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:studentName,onChange:e=>setStudentName(e.target.value),placeholder:\"Enter your name\",className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\",onKeyPress:e=>e.key==='Enter'&&handleStudentNameSubmit()}),/*#__PURE__*/_jsx(\"button\",{onClick:handleStudentNameSubmit,className:\"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-3 px-6 rounded-lg transition duration-200\",children:\"Join Polling Session\"})]})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-sm border-b\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between h-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"w-8 h-8 text-indigo-600\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-gray-800\",children:\"Live Polling System\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded\",children:[\"Session: \",sessionId]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-600\",children:userType==='teacher'?'Teacher Dashboard':\"Welcome, \".concat(studentName)}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowChat(!showChat),className:\"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition duration-200\",children:/*#__PURE__*/_jsx(MessageCircle,{className:\"w-5 h-5\"})})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2 space-y-8\",children:[userType==='teacher'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-5 h-5\"}),\"Create New Poll\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Question\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newPollQuestion,onChange:e=>setNewPollQuestion(e.target.value),placeholder:\"Enter your poll question\",className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Options\"}),newPollOptions.map((option,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:option,onChange:e=>updatePollOption(index,e.target.value),placeholder:\"Option \".concat(index+1),className:\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"}),newPollOptions.length>2&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>removePollOption(index),className:\"p-2 text-red-500 hover:bg-red-50 rounded-lg\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]},index)),/*#__PURE__*/_jsx(\"button\",{onClick:addPollOption,className:\"text-sm text-indigo-600 hover:text-indigo-800 font-medium\",children:\"+ Add another option\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Time Limit (seconds)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:pollTimeLimit,onChange:e=>setPollTimeLimit(parseInt(e.target.value)||60),min:\"10\",max:\"300\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"})]}),createPollError&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 text-sm\",children:createPollError}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreatePoll,className:\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-lg transition duration-200\",children:\"Create Poll\"})]})]}),currentPoll?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-800\",children:\"Current Poll\"}),timeLeft>0&&!showResults&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-orange-600\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:formatTime(timeLeft)})]})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:currentPoll.question}),!showResults&&userType==='student'&&!hasAnswered&&timeLeft>0&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:currentPoll.options.map((option,index)=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleAnswerSubmit(index),className:\"w-full text-left p-4 border border-gray-300 hover:border-indigo-500 hover:bg-indigo-50 rounded-lg transition duration-200\",children:[String.fromCharCode(65+index),\". \",option]},index))}),(showResults||hasAnswered||userType==='teacher'||timeLeft===0)&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[currentPoll.options.map((option,index)=>{const votes=pollResults.filter(r=>r.answer===index).length;const totalVotes=pollResults.length;const percentage=totalVotes>0?votes/totalVotes*100:0;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-1\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[String.fromCharCode(65+index),\". \",option]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[votes,\" votes (\",percentage.toFixed(1),\"%)\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-indigo-600 h-3 rounded-full transition-all duration-300\",style:{width:\"\".concat(percentage,\"%\")}})})]},index);}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500 mt-2\",children:[\"Total votes: \",pollResults.length,\" out of \",connectedStudents.length,\" students\"]})]}),userType==='student'&&hasAnswered&&!showResults&&timeLeft>0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-green-600 font-medium\",children:\"Answer submitted! Waiting for results...\"})}),timeLeft===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 font-medium\",children:\"Time's up! Final results displayed.\"})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-8 text-center\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"w-16 h-16 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-800 mb-2\",children:\"No Active Poll\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:userType==='teacher'?'Create a new poll to get started':'Waiting for teacher to start a poll...'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Users,{className:\"w-5 h-5\"}),\"Connected Students (\",connectedStudents.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:connectedStudents.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"No students connected\"}):connectedStudents.map((student,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-2 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:student}),userType==='teacher'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveStudent(student),className:\"text-red-500 hover:text-red-700 p-1\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]},index))})]}),userType==='teacher'&&pastPolls.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-800 mb-4\",children:\"Past Polls\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3 max-h-64 overflow-y-auto\",children:pastPolls.map((poll,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-800 mb-1\",children:poll.question}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600\",children:[poll.responses,\" responses\"]})]},index))})]})]})]})}),showChat&&/*#__PURE__*/_jsxs(\"div\",{className:\"fixed bottom-4 right-4 w-80 h-96 bg-white rounded-lg shadow-xl border z-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"Chat\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowChat(false),className:\"text-gray-500 hover:text-gray-700 w-6 h-6 flex items-center justify-center\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-64 p-4 overflow-y-auto\",children:chatMessages.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm text-center mt-8\",children:\"No messages yet...\"}):chatMessages.map((msg,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-gray-600\",children:msg.sender}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-400\",children:msg.timestamp})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-800 bg-gray-50 p-2 rounded\",children:msg.message})]},msg.id||index))}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newMessage,onChange:e=>setNewMessage(e.target.value),placeholder:\"Type a message...\",className:\"flex-1 px-3 py-2 border rounded-lg text-sm\",onKeyPress:e=>e.key==='Enter'&&handleSendMessage()}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessage,className:\"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition duration-200\",children:/*#__PURE__*/_jsx(Send,{className:\"w-4 h-4\"})})]})})]})]});};export default LivePollingSystem;","map":{"version":3,"names":["React","useState","useEffect","Users","Plus","BarChart3","Clock","Send","MessageCircle","Trash2","User","jsx","_jsx","jsxs","_jsxs","storageKeys","DATA_STORE","SESSION_ID","getStoredData","data","localStorage","getItem","JSON","parse","error","console","setStoredData","setItem","stringify","LivePollingSystem","userType","setUserType","studentName","setStudentName","isNameSet","setIsNameSet","currentPoll","setCurrentPoll","pollResults","setPollResults","timeLeft","setTimeLeft","hasAnswered","setHasAnswered","showResults","setShowResults","connectedStudents","setConnectedStudents","pastPolls","setPastPolls","showChat","setShowChat","chatMessages","setChatMessages","newMessage","setNewMessage","pollTimeLimit","setPollTimeLimit","createPollError","setCreatePollError","sessionId","setSessionId","storedId","newId","Math","random","toString","substring","newPollQuestion","setNewPollQuestion","newPollOptions","setNewPollOptions","dataStore","setDataStore","storedData","polls","students","messages","activePoll","pollAnswers","handleStorageChange","e","key","newValue","newData","window","addEventListener","removeEventListener","interval","setInterval","clearInterval","updateRealTimeData","timer","prev","id","timeLimit","some","a","pollId","filter","handleUserTypeSelection","type","question","responses","createdAt","Date","handleStudentNameSubmit","trim","includes","alert","_objectSpread","handleCreatePoll","validOptions","opt","length","pollData","now","options","handleAnswerSubmit","optionIndex","answerData","answer","timestamp","handleRemoveStudent","studentToRemove","s","handleSendMessage","message","sender","toLocaleTimeString","slice","formatTime","seconds","mins","floor","secs","concat","padStart","addPollOption","removePollOption","index","updatedOptions","splice","updatePollOption","value","className","children","onClick","onChange","target","placeholder","onKeyPress","map","option","parseInt","min","max","String","fromCharCode","votes","r","totalVotes","percentage","toFixed","style","width","student","poll","msg"],"sources":["e:/Placement/live-polling-system/live-polling-system/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Users, Plus, BarChart3, Clock, Send, MessageCircle, Trash2, User } from 'lucide-react';\n\n// Helper functions for localStorage management\nconst storageKeys = {\n  DATA_STORE: 'pollingSystem_dataStore',\n  SESSION_ID: 'pollingSystem_sessionId'\n};\n\nconst getStoredData = () => {\n  try {\n    const data = localStorage.getItem(storageKeys.DATA_STORE);\n    return data ? JSON.parse(data) : null;\n  } catch (error) {\n    console.error('Error reading from localStorage:', error);\n    return null;\n  }\n};\n\nconst setStoredData = (data) => {\n  try {\n    localStorage.setItem(storageKeys.DATA_STORE, JSON.stringify(data));\n  } catch (error) {\n    console.error('Error writing to localStorage:', error);\n  }\n};\n\nconst LivePollingSystem = () => {\n  const [userType, setUserType] = useState('');\n  const [studentName, setStudentName] = useState('');\n  const [isNameSet, setIsNameSet] = useState(false);\n  const [currentPoll, setCurrentPoll] = useState(null);\n  const [pollResults, setPollResults] = useState([]);\n  const [timeLeft, setTimeLeft] = useState(0);\n  const [hasAnswered, setHasAnswered] = useState(false);\n  const [showResults, setShowResults] = useState(false);\n  const [connectedStudents, setConnectedStudents] = useState([]);\n  const [pastPolls, setPastPolls] = useState([]);\n  const [showChat, setShowChat] = useState(false);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [pollTimeLimit, setPollTimeLimit] = useState(60);\n  const [createPollError, setCreatePollError] = useState('');\n\n  // Use a shared session ID across tabs\n  const [sessionId, setSessionId] = useState(() => {\n    const storedId = localStorage.getItem(storageKeys.SESSION_ID);\n    if (storedId) return storedId;\n    \n    const newId = Math.random().toString(36).substring(7);\n    localStorage.setItem(storageKeys.SESSION_ID, newId);\n    return newId;\n  });\n\n  // Teacher form states\n  const [newPollQuestion, setNewPollQuestion] = useState('');\n  const [newPollOptions, setNewPollOptions] = useState(['', '', '', '']);\n\n  // Initialize data store from localStorage or create a new one\n  const [dataStore, setDataStore] = useState(() => {\n    const storedData = getStoredData();\n    return storedData || {\n      polls: [],\n      students: [],\n      messages: [],\n      activePoll: null,\n      pollAnswers: []\n    };\n  });\n\n  // Effect to sync dataStore with localStorage\n  useEffect(() => {\n    setStoredData(dataStore);\n  }, [dataStore]);\n\n  // Effect to listen for storage changes (for cross-tab communication)\n  useEffect(() => {\n    const handleStorageChange = (e) => {\n      if (e.key === storageKeys.DATA_STORE && e.newValue) {\n        try {\n          const newData = JSON.parse(e.newValue);\n          setDataStore(newData);\n        } catch (error) {\n          console.error('Error parsing storage data:', error);\n        }\n      }\n    };\n\n    window.addEventListener('storage', handleStorageChange);\n    return () => window.removeEventListener('storage', handleStorageChange);\n  }, []);\n\n  // Effect to periodically check for updates (fallback for some browsers)\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const storedData = getStoredData();\n      if (storedData) {\n        setDataStore(storedData);\n      }\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  // Simulate real-time updates with polling\n  useEffect(() => {\n    if (userType) {\n      updateRealTimeData();\n    }\n  }, [userType, sessionId, dataStore]);\n\n  // Timer for active polls\n  useEffect(() => {\n    let timer;\n    if (currentPoll && timeLeft > 0 && !showResults) {\n      timer = setInterval(() => {\n        setTimeLeft(prev => {\n          if (prev <= 1) {\n            setShowResults(true);\n            return 0;\n          }\n          return prev - 1;\n        });\n      }, 1000);\n    }\n    return () => clearInterval(timer);\n  }, [currentPoll, timeLeft, showResults]);\n\n  const updateRealTimeData = () => {\n    // Update from the shared data store\n    setConnectedStudents(dataStore.students || []);\n    setChatMessages(dataStore.messages || []);\n    \n    if (dataStore.activePoll) {\n      // Check if this is a new poll\n      if (!currentPoll || currentPoll.id !== dataStore.activePoll.id) {\n        setCurrentPoll(dataStore.activePoll);\n        setTimeLeft(dataStore.activePoll.timeLimit);\n        setHasAnswered(false);\n        setShowResults(false);\n        \n        // Check if current student has already answered this poll\n        if (userType === 'student' && studentName) {\n          const hasAnswered = dataStore.pollAnswers.some(\n            a => a.studentName === studentName && a.pollId === dataStore.activePoll.id\n          );\n          setHasAnswered(hasAnswered);\n        }\n      }\n      \n      // Update poll results\n      setPollResults(dataStore.pollAnswers.filter(a => a.pollId === dataStore.activePoll.id) || []);\n    } else {\n      setCurrentPoll(null);\n    }\n\n    // Check if all students answered or time is up\n    if (dataStore.activePoll && timeLeft <= 0) {\n      setShowResults(true);\n    }\n  };\n\n  const handleUserTypeSelection = (type) => {\n    setUserType(type);\n    if (type === 'teacher') {\n      // Load past polls for teacher\n      setPastPolls([\n        { question: \"What is your favorite programming language?\", responses: 15, createdAt: new Date() },\n        { question: \"How difficult was today's lesson?\", responses: 12, createdAt: new Date() },\n        { question: \"Which topic should we cover next?\", responses: 18, createdAt: new Date() }\n      ]);\n    }\n  };\n\n  const handleStudentNameSubmit = () => {\n    if (studentName.trim()) {\n      // Check if name already exists\n      if (dataStore.students.includes(studentName)) {\n        alert('Name already taken. Please choose a different name.');\n        return;\n      }\n\n      setIsNameSet(true);\n      \n      // Add student to the store\n      setDataStore(prev => ({\n        ...prev,\n        students: [...prev.students, studentName]\n      }));\n    }\n  };\n\n  const handleCreatePoll = () => {\n    setCreatePollError('');\n    \n    // Validate the poll question\n    if (!newPollQuestion.trim()) {\n      setCreatePollError('Poll question is required');\n      return;\n    }\n    \n    // Validate at least two options are provided\n    const validOptions = newPollOptions.filter(opt => opt.trim());\n    if (validOptions.length < 2) {\n      setCreatePollError('At least two options are required');\n      return;\n    }\n    \n    // Validate time limit\n    if (pollTimeLimit < 10 || pollTimeLimit > 300) {\n      setCreatePollError('Time limit must be between 10 and 300 seconds');\n      return;\n    }\n\n    // If validation passes, create the poll\n    const pollData = {\n      id: Date.now().toString(),\n      question: newPollQuestion,\n      options: validOptions,\n      timeLimit: pollTimeLimit,\n      createdAt: new Date()\n    };\n\n    setDataStore(prev => ({\n      ...prev,\n      activePoll: pollData,\n      pollAnswers: prev.pollAnswers.filter(a => a.pollId !== pollData.id), // Clear previous answers for this poll\n      polls: [...prev.polls, pollData]\n    }));\n\n    setCurrentPoll(pollData);\n    setTimeLeft(pollTimeLimit);\n    setHasAnswered(false);\n    setShowResults(false);\n    setPollResults([]);\n\n    // Reset form\n    setNewPollQuestion('');\n    setNewPollOptions(['', '', '', '']);\n    setCreatePollError('');\n  };\n\n  const handleAnswerSubmit = (optionIndex) => {\n    if (!hasAnswered && currentPoll) {\n      const answerData = {\n        studentName,\n        answer: optionIndex,\n        pollId: currentPoll.id,\n        timestamp: new Date()\n      };\n\n      setDataStore(prev => ({\n        ...prev,\n        pollAnswers: [\n          ...prev.pollAnswers.filter(a => \n            !(a.studentName === studentName && a.pollId === currentPoll.id)\n          ),\n          answerData\n        ]\n      }));\n\n      setHasAnswered(true);\n    }\n  };\n\n  const handleRemoveStudent = (studentToRemove) => {\n    setDataStore(prev => ({\n      ...prev,\n      students: prev.students.filter(s => s !== studentToRemove),\n      pollAnswers: prev.pollAnswers.filter(a => a.studentName !== studentToRemove)\n    }));\n  };\n\n  const handleSendMessage = () => {\n    if (newMessage.trim()) {\n      const message = {\n        id: Date.now(),\n        sender: userType === 'teacher' ? 'Teacher' : studentName,\n        message: newMessage,\n        timestamp: new Date().toLocaleTimeString()\n      };\n\n      setDataStore(prev => ({\n        ...prev,\n        messages: [...prev.messages.slice(-49), message] // Keep last 50 messages\n      }));\n\n      setNewMessage('');\n    }\n  };\n\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const addPollOption = () => {\n    setNewPollOptions([...newPollOptions, '']);\n  };\n\n  const removePollOption = (index) => {\n    if (newPollOptions.length > 2) {\n      const updatedOptions = [...newPollOptions];\n      updatedOptions.splice(index, 1);\n      setNewPollOptions(updatedOptions);\n    }\n  };\n\n  const updatePollOption = (index, value) => {\n    const updatedOptions = [...newPollOptions];\n    updatedOptions[index] = value;\n    setNewPollOptions(updatedOptions);\n  };\n\n  if (!userType) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4\">\n        <div className=\"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full\">\n          <div className=\"text-center mb-8\">\n            <BarChart3 className=\"w-16 h-16 text-indigo-600 mx-auto mb-4\" />\n            <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">Live Polling System</h1>\n            <p className=\"text-gray-600\">Choose your role to continue</p>\n          </div>\n          \n          <div className=\"space-y-4\">\n            <button\n              onClick={() => handleUserTypeSelection('teacher')}\n              className=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-4 px-6 rounded-lg transition duration-200 flex items-center justify-center gap-3\"\n            >\n              <Users className=\"w-5 h-5\" />\n              Continue as Teacher\n            </button>\n            \n            <button\n              onClick={() => handleUserTypeSelection('student')}\n              className=\"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-4 px-6 rounded-lg transition duration-200 flex items-center justify-center gap-3\"\n            >\n              <User className=\"w-5 h-5\" />\n              Continue as Student\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (userType === 'student' && !isNameSet) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-emerald-50 to-teal-100 flex items-center justify-center p-4\">\n        <div className=\"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full\">\n          <div className=\"text-center mb-8\">\n            <User className=\"w-16 h-16 text-emerald-600 mx-auto mb-4\" />\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Welcome Student!</h2>\n            <p className=\"text-gray-600\">Please enter your name to join</p>\n          </div>\n          \n          <div className=\"space-y-4\">\n            <input\n              type=\"text\"\n              value={studentName}\n              onChange={(e) => setStudentName(e.target.value)}\n              placeholder=\"Enter your name\"\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n              onKeyPress={(e) => e.key === 'Enter' && handleStudentNameSubmit()}\n            />\n            <button\n              onClick={handleStudentNameSubmit}\n              className=\"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-3 px-6 rounded-lg transition duration-200\"\n            >\n              Join Polling Session\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-16\">\n            <div className=\"flex items-center gap-3\">\n              <BarChart3 className=\"w-8 h-8 text-indigo-600\" />\n              <h1 className=\"text-xl font-bold text-gray-800\">Live Polling System</h1>\n              <span className=\"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded\">\n                Session: {sessionId}\n              </span>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <span className=\"text-sm font-medium text-gray-600\">\n                {userType === 'teacher' ? 'Teacher Dashboard' : `Welcome, ${studentName}`}\n              </span>\n              <button\n                onClick={() => setShowChat(!showChat)}\n                className=\"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition duration-200\"\n              >\n                <MessageCircle className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Main Content */}\n          <div className=\"lg:col-span-2 space-y-8\">\n            {userType === 'teacher' && (\n              <div className=\"bg-white rounded-xl shadow-lg p-6\">\n                <h2 className=\"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2\">\n                  <Plus className=\"w-5 h-5\" />\n                  Create New Poll\n                </h2>\n                \n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Question</label>\n                    <input\n                      type=\"text\"\n                      value={newPollQuestion}\n                      onChange={(e) => setNewPollQuestion(e.target.value)}\n                      placeholder=\"Enter your poll question\"\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Options</label>\n                    {newPollOptions.map((option, index) => (\n                      <div key={index} className=\"flex items-center gap-2 mb-2\">\n                        <input\n                          type=\"text\"\n                          value={option}\n                          onChange={(e) => updatePollOption(index, e.target.value)}\n                          placeholder={`Option ${index + 1}`}\n                          className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                        />\n                        {newPollOptions.length > 2 && (\n                          <button\n                            onClick={() => removePollOption(index)}\n                            className=\"p-2 text-red-500 hover:bg-red-50 rounded-lg\"\n                          >\n                            <Trash2 className=\"w-4 h-4\" />\n                          </button>\n                        )}\n                      </div>\n                    ))}\n                    <button\n                      onClick={addPollOption}\n                      className=\"text-sm text-indigo-600 hover:text-indigo-800 font-medium\"\n                    >\n                      + Add another option\n                    </button>\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Time Limit (seconds)</label>\n                    <input\n                      type=\"number\"\n                      value={pollTimeLimit}\n                      onChange={(e) => setPollTimeLimit(parseInt(e.target.value) || 60)}\n                      min=\"10\"\n                      max=\"300\"\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n                    />\n                  </div>\n                  \n                  {createPollError && (\n                    <div className=\"text-red-500 text-sm\">{createPollError}</div>\n                  )}\n                  \n                  <button\n                    onClick={handleCreatePoll}\n                    className=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-lg transition duration-200\"\n                  >\n                    Create Poll\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {/* Current Poll */}\n            {currentPoll ? (\n              <div className=\"bg-white rounded-xl shadow-lg p-6\">\n                <div className=\"flex items-center justify-between mb-6\">\n                  <h2 className=\"text-xl font-bold text-gray-800\">Current Poll</h2>\n                  {timeLeft > 0 && !showResults && (\n                    <div className=\"flex items-center gap-2 text-orange-600\">\n                      <Clock className=\"w-5 h-5\" />\n                      <span className=\"font-semibold\">{formatTime(timeLeft)}</span>\n                    </div>\n                  )}\n                </div>\n                \n                <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{currentPoll.question}</h3>\n                \n                {!showResults && userType === 'student' && !hasAnswered && timeLeft > 0 && (\n                  <div className=\"space-y-3\">\n                    {currentPoll.options.map((option, index) => (\n                      <button\n                        key={index}\n                        onClick={() => handleAnswerSubmit(index)}\n                        className=\"w-full text-left p-4 border border-gray-300 hover:border-indigo-500 hover:bg-indigo-50 rounded-lg transition duration-200\"\n                      >\n                        {String.fromCharCode(65 + index)}. {option}\n                      </button>\n                    ))}\n                  </div>\n                )}\n                \n                {(showResults || hasAnswered || userType === 'teacher' || timeLeft === 0) && (\n                  <div className=\"space-y-3\">\n                    {currentPoll.options.map((option, index) => {\n                      const votes = pollResults.filter(r => r.answer === index).length;\n                      const totalVotes = pollResults.length;\n                      const percentage = totalVotes > 0 ? (votes / totalVotes) * 100 : 0;\n                      \n                      return (\n                        <div key={index} className=\"relative\">\n                          <div className=\"flex justify-between items-center mb-1\">\n                            <span className=\"font-medium\">{String.fromCharCode(65 + index)}. {option}</span>\n                            <span className=\"text-sm text-gray-600\">{votes} votes ({percentage.toFixed(1)}%)</span>\n                          </div>\n                          <div className=\"w-full bg-gray-200 rounded-full h-3\">\n                            <div\n                              className=\"bg-indigo-600 h-3 rounded-full transition-all duration-300\"\n                              style={{ width: `${percentage}%` }}\n                            ></div>\n                          </div>\n                        </div>\n                      );\n                    })}\n                    <div className=\"text-sm text-gray-500 mt-2\">\n                      Total votes: {pollResults.length} out of {connectedStudents.length} students\n                    </div>\n                  </div>\n                )}\n                \n                {userType === 'student' && hasAnswered && !showResults && timeLeft > 0 && (\n                  <div className=\"text-center py-4\">\n                    <p className=\"text-green-600 font-medium\">Answer submitted! Waiting for results...</p>\n                  </div>\n                )}\n\n                {timeLeft === 0 && (\n                  <div className=\"text-center py-2\">\n                    <p className=\"text-red-600 font-medium\">Time's up! Final results displayed.</p>\n                  </div>\n                )}\n              </div>\n            ) : (\n              <div className=\"bg-white rounded-xl shadow-lg p-8 text-center\">\n                <BarChart3 className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n                <h3 className=\"text-lg font-medium text-gray-800 mb-2\">No Active Poll</h3>\n                <p className=\"text-gray-600\">\n                  {userType === 'teacher' ? 'Create a new poll to get started' : 'Waiting for teacher to start a poll...'}\n                </p>\n              </div>\n            )}\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"space-y-6\">\n            {/* Connected Students */}\n            <div className=\"bg-white rounded-xl shadow-lg p-6\">\n              <h3 className=\"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2\">\n                <Users className=\"w-5 h-5\" />\n                Connected Students ({connectedStudents.length})\n              </h3>\n              <div className=\"space-y-2\">\n                {connectedStudents.length === 0 ? (\n                  <p className=\"text-gray-500 text-sm\">No students connected</p>\n                ) : (\n                  connectedStudents.map((student, index) => (\n                    <div key={index} className=\"flex items-center justify-between p-2 bg-gray-50 rounded-lg\">\n                      <span className=\"text-sm font-medium\">{student}</span>\n                      {userType === 'teacher' && (\n                        <button\n                          onClick={() => handleRemoveStudent(student)}\n                          className=\"text-red-500 hover:text-red-700 p-1\"\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </button>\n                      )}\n                    </div>\n                  ))\n                )}\n              </div>\n            </div>\n\n            {/* Past Polls - Teacher Only */}\n            {userType === 'teacher' && pastPolls.length > 0 && (\n              <div className=\"bg-white rounded-xl shadow-lg p-6\">\n                <h3 className=\"text-lg font-bold text-gray-800 mb-4\">Past Polls</h3>\n                <div className=\"space-y-3 max-h-64 overflow-y-auto\">\n                  {pastPolls.map((poll, index) => (\n                    <div key={index} className=\"p-3 bg-gray-50 rounded-lg\">\n                      <p className=\"text-sm font-medium text-gray-800 mb-1\">{poll.question}</p>\n                      <p className=\"text-xs text-gray-600\">{poll.responses} responses</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Chat Popup */}\n      {showChat && (\n        <div className=\"fixed bottom-4 right-4 w-80 h-96 bg-white rounded-lg shadow-xl border z-50\">\n          <div className=\"flex items-center justify-between p-4 border-b\">\n            <h3 className=\"font-semibold\">Chat</h3>\n            <button\n              onClick={() => setShowChat(false)}\n              className=\"text-gray-500 hover:text-gray-700 w-6 h-6 flex items-center justify-center\"\n            >\n              Ã—\n            </button>\n          </div>\n          \n          <div className=\"h-64 p-4 overflow-y-auto\">\n            {chatMessages.length === 0 ? (\n              <p className=\"text-gray-500 text-sm text-center mt-8\">No messages yet...</p>\n            ) : (\n              chatMessages.map((msg, index) => (\n                <div key={msg.id || index} className=\"mb-3\">\n                  <div className=\"flex justify-between items-center mb-1\">\n                    <span className=\"text-xs font-medium text-gray-600\">{msg.sender}</span>\n                    <span className=\"text-xs text-gray-400\">{msg.timestamp}</span>\n                  </div>\n                  <p className=\"text-sm text-gray-800 bg-gray-50 p-2 rounded\">{msg.message}</p>\n                </div>\n              ))\n            )}\n          </div>\n          \n          <div className=\"p-4 border-t\">\n            <div className=\"flex gap-2\">\n              <input\n                type=\"text\"\n                value={newMessage}\n                onChange={(e) => setNewMessage(e.target.value)}\n                placeholder=\"Type a message...\"\n                className=\"flex-1 px-3 py-2 border rounded-lg text-sm\"\n                onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n              />\n              <button\n                onClick={handleSendMessage}\n                className=\"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition duration-200\"\n              >\n                <Send className=\"w-4 h-4\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default LivePollingSystem;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}